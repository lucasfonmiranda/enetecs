<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Solidareasy</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.5.1/css/bulma.min.css">
    <link rel="stylesheet" href="css/app.css">
    <!--JAVASCRIPT-->
    <script src="https://unpkg.com/vue"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment-with-locales.min.js"></script>
  </head>

  <body>
<div id="app">
  <div class="container">
    <nav class="navbar">
      <div class="navbar-brand">
        <a class="navbar-item" href="">
          <img src="http://www.solidareasy.com/wp-content/uploads/2017/08/SEO-google-1.png" width="112" height="28">
        </a>

        <div class="navbar-burger burger" data-target="navMenubd-example">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>

      <div class="navbar-menu">
        <div class="navbar-end">
          <div class="navbar-item">
            <div class="field is-grouped">
              <p class="control">
                <a class="button circular-radius" href="./login.html">
                  <span>Inscrever</span>
                </a>
              </p>
              <p class="control">
                <a class="button circular-radius is-primary" href="./login.html">
                  <span>Entrar</span>
                </a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </div>
  <section class="section">
    <div class="container">
      <div class="columns is-multiline">
        <div class="column is-4-desktop is-5-tablet" :class="{ 'is-3-desktop is-1-tablet': index % 2 == 0 }" v-for="(item, index) in list">
          <div class="card clickable">
            <div class="card-image">
              <figure class="image is-3by2">
                <img :src="item.image">
              </figure>
            </div>
            <div class="card-content">
              <div class="notification is-primary">
                <div class="columns is-mobile">
                  <div class="column is-4"><span>Running</span></div>
                  <div class="column is-8 has-text-centered is-paddingless">
                    <div class="columns is-mobile is-marginless" style="padding-top: 4px;">
                      <div class="column is-3 is-paddingless">
                        <h5 class="title is-5">{{ item.day == 0 ? item.hour : item.day}}</h5>
                      </div>
                      <div class="column is-1 is-paddingless">
                        <h5 class="title is-5">:</h5>
                      </div>
                      <div class="column is-3 is-paddingless">
                        <h5 class="title is-5">{{item.day == 0 ? item.minute : item.hour}}</h5>
                      </div>
                      <div class="column is-1 is-paddingless">
                        <h5 class="title is-5">:</h5>
                      </div>
                      <div class="column is-3 is-paddingless">
                        <h5 class="title is-5">{{item.day == 0 ? item.second : item.minute}}</h5>
                      </div>
                      <div class="column is-1 is-paddingless"></div>
                    </div>
                    <div class="columns is-mobile is-marginless">
                      <div class="column is-3 is-paddingless">
                        <h5 class="subtitle is-6">{{ item.day == 0 ? 'HOR.' : 'DIA' }}</h5>
                      </div>
                      <div class="column is-1 is-paddingless">
                        <h5 class="title is-5"></h5>
                      </div>
                      <div class="column is-3 is-paddingless">
                        <h5 class="subtitle is-6">{{ item.day == 0 ? 'MIN.' : 'HOR.'}}</h5>
                      </div>
                      <div class="column is-1 is-paddingless">
                      </div>
                      <div class="column is-3 is-paddingless">
                        <h5 class="subtitle is-6">{{ item.day == 0 ? 'SEG.' : 'MIN.'}}</h5>
                      </div>
                      <div class="column is-1 is-paddingless"></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="media">
                <div class="media-content">
                  <small>{{item.description}}</small>
                </div>
                <figure class="image is-48x48 media-right">
                <img :src="item.logo">
                </figure>
              </div>
              <hr class="divider">
              <div class="content">
                <div class="level is-mobile">
                  <div class="level-left">
                    <div class="level-item">
                      <button class="button is-success">Dar Lance</button>
                    </div>
                  </div>
                  <div class="level-right">
                    <div class="level-item">
                      <b>${{item.value}}</b>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="column is-offset-2"></div>
      </div>
    </div>
  </section>
</div>

</div>
</body>
<script type="text/javascript">
const app = new Vue({
  el: "#app",
  mounted() {

    this.list = [
    {
      description: 'A master super advanced CD',
      value: 1999999.99,
      endDate: "22/08/2017 08:20:00",
      image: "https://s-media-cache-ak0.pinimg.com/originals/50/f4/d5/50f4d510a9c309d587c3108606ae8ac1.jpg",
      logo: "http://www.soubrasilia.com/brasilia/wp-content/uploads/2015/11/lbv.png"
    },
    {
      description: 'A master super advanced Car',
      value: 13433.99,
      endDate: "23/08/2017 09:20:00",
      image: "http://files1.porsche.com/filestore/image/multimedia/none/homepage-teaser-icc-718/normal/87592477-3037-11e7-9f74-0019999cd470;sQ/porsche-normal.jpg",
      logo: "http://imagem.band.com.br/f_361957.jpg"
    },
    {
      description: 'A master super advanced Pen',
      value: 0.99,
      endDate: "23/08/2017 09:20:00",
      image: "http://www.montblanc.com/content/dam/mtb/products/writing-instruments/112/895/112895/197960-ecom-retina-01.png",
      logo: "https://polenfiles.blob.core.windows.net/ongs/ong-brasiltomorrow-logo.png"
    },
    ];
    this.updateTimeComponents();
    setInterval(this.updateTimeComponents, 100);
  },
  data: {
    list: [],
  },
  methods: {
    updateTimeComponents() {
      this.list.forEach(function(item) {
        var duration = moment.duration(moment(item.endDate, "DD/MM/YYYY HH:mm:ss").diff(moment()));
        Vue.set(item, 'day', duration.days());
        Vue.set(item, 'hour', duration.hours());
        Vue.set(item, 'minute', duration.minutes());
        Vue.set(item, 'second', duration.seconds());
      })
    }
  }
});

</script>
</html>
